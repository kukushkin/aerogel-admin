<% page_title "Edit user profile" %>

<% form @user, action: "/admin/users/#{@user.id}/edit" do %>
<%=     field :full_name %>
<%      table object.emails do
            column :email
            column :confirmed, label: '' do |e|
                user_email_confirmed_as_label( e )
            end
            column :confirmation_link, label: '' do |e|
                e.confirmed ? '' : link_to("#request_email_confirmation", "Send confirmation request")
            end
        end
%>
<%      table object.authentications do
            column :provider, label: "Authentication method" do |a|
                auth_provider_as_icon( a.provider )+" #{auth_provider_as_text a.provider}"
            end
            column :uid
        end
%>
<%=     field :roles, value: object.roles.join(", ") %>

<p>
    <em>Created @ <%= object.created_at || 'never' %></em><br/>
    <em>Updated @ <%= object.updated_at || 'never'%></em><br/>
    <em>Authenticated @ <%= object.authenticated_at || 'never' %></em><br/>
</p>

<%=     button :cancel, url: '/admin/users/' %>
<%=     button "Save changes" %>


<% end %>
